{% extends "base.html" %}

{% block title %}
    Profile
{% endblock title %}

{% block content %}
    <h1 class="text-3xl">Profile</h1>
    <hr class="mb-4 border-black">

    <table class="border-collapse w-full mb-8">
        <tr>
            <td class="border border-black px-2 py-1">First name</td>
            <td class="border border-black px-2 py-1">{{ user.first_name }}</td>
        </tr>
        <tr>
            <td class="border border-black px-2 py-1">Last name</td>
            <td class="border border-black px-2 py-1">{{ user.last_name }}</td>
        </tr>
        <tr>
            <td class="border border-black px-2 py-1">Email</td>
            <td class="border border-black px-2 py-1">{{ user.email }}</td>
        </tr>
        <tr>
            <td class="border border-black px-2 py-1">Phone number</td>
            <td class="border border-black px-2 py-1">{{ user.phone_number }}</td>
        </tr>
    </table>

    <h2 class="text-2xl">Your Memberships</h2>
    <hr class="mb-4 border-black">

    {% if user.memberships %}
        {% for membership in user.memberships %}
            <div class="mb-4">
                <table class="border-collapse w-full">
                    <tr>
                        <td class="border border-black px-2 py-1">Start date</td>
                        <td class="border border-black px-2 py-1">{{ membership.start_date }}</td>
                    </tr>
                    <tr>
                        <td class="border border-black px-2 py-1">Period</td>
                        <td class="border border-black px-2 py-1">{{ membership.tariff.period }}</td>
                    </tr>
                    <tr>
                        <td class="border border-black px-2 py-1">Price</td>
                        <td class="border border-black px-2 py-1">{{ "${:,.2f}".format(membership.tariff.price) }}</td>
                    </tr>
                </table>
            </div>

        {% endfor %}
    {% else %}
        <p>You don't have any memberships</p>
    {% endif %}
{% endblock content %}